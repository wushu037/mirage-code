## 2019-08-12MySQL存储过程
- 过程有自己的类型限定：三种类型
    1. in:数据只是从外部传入内部使用（值传递）；**可以是数值，也可以是变量**
    2. out:只允许过程内部使用（不用外部数据），给外部使用的（引用传递，外部的数据会被先清空才会进入到内部），**只能是变量**
    3. inout:外部可以在内部使用，内部修改也可以给外部使用；典型的引用传递，**只能是变量**
#### MySQL建立存储过程要用DELIMITER
 - mysql建立存储过程要用DELIMITER
    - 但是只有在用语句写存储过程的时候才需要用，目的是避免存储过程语句提前结束(存储过程里分号`;`太多，sql遇到分号`;`就会开始执行语句)。==如果是在Navicat里右击创建过程，就不用写了。==
 - 网上解释
    ```
    1. delimiter就是告诉mysql解释器，该段命令是否已经结束了，是否可以执行了。
    2. delimiter是mysql定义结束标记的，在mysql客户端中结束标记默认是分号（；）。
        如果一次输入的语句较多，并且语句中间有分号，这时需要新指定一个特殊的结束符。
        delimiter // 表示mysql用//表示mysql语句结束，过程结束后肯定会有一句：
        delimiter ；
        恢复成默认的。
    ```


## 2019-08-12MySQL将查询字段值赋值给变量
    已发布到CSDN
- 写法为(必须@开头，不必须提前使用set声明)
    - 参考: https://www.cnblogs.com/EasonJim/p/7966918.html
    - select @xxx:=username from t1;
    - select @xxx;
#### :=和=的区别
- https://www.cnblogs.com/jpfss/p/9140622.html
 - **`=`** 
    - 只有在set和update时才是和:=一样，赋值的作用，其它都是等于的作用。鉴于此，用变量实现行号时，必须用:=
 - **`:=`**
    - 不只在set和update时时赋值的作用，在select也是赋值的作用。
 - 如果明白了`=`和`:=`的区别，那么也就理解了下边的现象。 
    - @num:=@num+1,:=是赋值的作用
        - 所以，先执行@num+1,然后再赋值给@num，所以能正确实现行号的作用。 
    - @num=@num+1,此时=是等于的作用，
        - @num不等于@num+1，所以始终返回0，如果改为@num=@num,始终返回1了。(mysql数据库中，用1表示真，0表示假。) 

## 2019-08-12MySQL动态sql的批处理
- 已发布到CSDN，需要注意的是：动态Sql不能进行批处理。一次动态sql只能执行一条语句


## 存储过程实例
- SQLServer 海克斯康 [hexagon_callcenter] ：getLargeScreenOne
    ```
    多个子查询封装成临时表
    ```
- SQLServer 青啤 [Grs_qingpiTest2018] ：Mi_RepeatedReminder
    ```
    游标遍历
    ```
- MySQL 城阳民政 [lenos] ：global_info
    ```
    动态sql
    ```